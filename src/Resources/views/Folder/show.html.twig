{% extends '@HgabkaMedia/Default/layout.html.twig' %}
{% block content_title %}{{ folder.name }}{% endblock %}
{% block breadcrumb %}
    <div class="hidden-xs">
        <ol class="nav navbar-top-links breadcrumb">
            <li>
                <a href="{{ path('sonata_admin_dashboard') }}">{{ 'link_breadcrumb_dashboard' | trans({}, 'SonataAdminBundle') | raw }}</a>
            </li>
            {% for parent in foldermanager.parents(folder) %}
                {% if block('breadcrumb_between') is defined %}
                    {{ block('breadcrumb_between') }}
                {% endif %}
                <li>
                    {% if loop.last %}
                        <span>{{ parent.name }}</span>
                    {% else %}
                        <a href="{{ path('admin_hgabka_media_media_list', { folderId: parent.id }) }}">{{ parent.name }}</a>
                    {% endif %}
                </li>
            {% endfor %}
        </ol>
    </div>
{% endblock %}

{% block content %}
    <!-- Sub-actions -->
    <div class="page-sub-actions page-sub-actions--has-buttons">
        <div class="btn-group">
            <a href="{{ path('admin_hgabka_media_media_list', { 'folderId': folder.id, viewMode: 'thumb-view'}) }}" class="btn btn-default btn--raise-on-hover{% if not app.session.get('media-list-view') %} active{% endif %}">
                <i class="fa fa-picture-o btn__icon"></i>
            </a>
            <a href="{{ path('admin_hgabka_media_media_list', { 'folderId': folder.id, viewMode: 'list-view'}) }}" class="btn btn-default btn--raise-on-hover{% if app.session.get('media-list-view') %} active{% endif %}">
                <i class="fa fa-list btn__icon"></i>
            </a>
        </div>
    </div>

    <!-- Main-actions -->
    <div class="page-main-actions {#js-auto-collapse-buttons#}">
        <div class="btn-group">
            {% block actions %}
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-primary btn--raise-on-hover dropdown-toggle" data-toggle="dropdown">
                        {{ 'hg_media.media.add.action'|trans }} <i class="fa fa-caret-down"></i>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        {% for addaction in mediamanager.getFolderAddActions() %}
                            <li>
                                <a href="{{ path('HgabkaMediaBundle_media_create', { 'folderId' : folder.id, 'type': addaction.type }) }}">
                                    {{ addaction.name |trans }}
                                </a>
                            </li>
                        {% endfor %}
                        <li>
                            <a href="{{ path('HgabkaMediaBundle_media_bulk_upload', { 'folderId' : folder.id }) }}">
                                {{ 'hg_media.bulkupload.bulkupload' |trans }}
                            </a>
                        </li>
                    </ul>
                </div>
                <button class="btn btn-default btn--raise-on-hover" data-target="#addsub-modal" data-toggle="modal" type="button">
                    <span class="large-screen">{{ 'hg_media.folder.addsub.action' |trans }}</span>
                    <span class="small-screen">{{ 'hg_media.folder.addsub.action_short' |trans }} <i class="fa fa-folder-o btn__icon-folder"></i></span>
                </button>
                <button class="btn btn-default btn--raise-on-hover" data-target="#delete-modal" data-toggle="modal" type="button">
                    <span class="large-screen">{{ 'hg_media.folder.delete.action' |trans }}</span>
                    <span class="small-screen">{{ 'hg_media.folder.delete.action_short' |trans }} <i class="fa fa-folder-o btn__icon-folder"></i></span>
                </button>
                <button class="btn btn-default btn--raise-on-hover" data-target="#empty-modal" data-toggle="modal" type="button">
                    <span class="large-screen">{{ 'hg_media.folder.empty.action' |trans }}</span>
                    <span class="small-screen">{{ 'hg_media.folder.empty.action_short' |trans }} <i class="fa fa-folder-o btn__icon-folder"></i></span>
                </button>
            {% endblock %}
        </div>
    </div>


    <!-- Scroll-actions -->
    <div class="page-main-actions page-main-actions--top" id="page-main-actions-top">
        <div class="btn-group">
            {{ block('actions') }}
            <button type="button" class="js-scroll-to-top btn btn-default btn--raise-on-hover">
                <i class="fa fa-caret-up"></i>
            </button>
        </div>
    </div>

    <!-- Main Tabs -->
    <ul class="nav nav-tabs page-main-tabs js-auto-collapse-tabs">
        <li class="active">
            <a href="#imagegallery" data-toggle="tab">
                {{ 'hg_media.folder.contenttab.title' | trans }}
            </a>
        </li>
        <li>
            <a href="#properties" data-toggle="tab">
                {{ 'hg_media.folder.propertiestab.title' | trans }}
            </a>
        </li>
        <li class="tab__more dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                {{ 'hg_media.form.button.dropdown.more' | trans }} <span class="caret"></span>
            </a>
            <ul class="dropdown-menu dropdown-menu-right" id="collapsed"></ul>
        </li>
    </ul>

{% endblock %}
